(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{153:function(e,t,n){},171:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(19),s=n.n(c),i=n(18),o=n.n(i),l=n(28),j=n(12),u=n(21),d=n(51),b=n(27);b.a.apps.length||b.a.initializeApp({apiKey:"AIzaSyAA1TX5okNugE04iEvST6Z0jdu-8oBpjzU",authDomain:"codingscale-aa52f.firebaseapp.com",projectId:"codingscale-aa52f",storageBucket:"codingscale-aa52f.appspot.com",messagingSenderId:"16059410715",appId:"1:16059410715:web:cd05cdb86811c907f94bbe",measurementId:"G-KL103DH8HV"}),b.a.analytics();n(153),n(154);var h=n(38),O=n(3);var x=function(){return Object(u.e)().push("/h"),Object(O.jsx)(h.a,{children:"Home Screen!"})},p=n(107),m=n.n(p),f=n(202),g={signInFlow:"popup",signInSuccessURL:"/#/h",signInOptions:[b.a.auth.EmailAuthProvider.PROVIDER_ID,b.a.auth.GoogleAuthProvider.PROVIDER_ID]};var v=function(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(f.a,{container:!0,style:{marginTop:"33%"},children:[Object(O.jsx)(f.a,{item:!0,sm:6,style:{borderRight:"1px solid black"},children:Object(O.jsxs)("div",{style:{textAlign:"left"},children:[Object(O.jsx)(h.a,{variant:"h3",children:"Welcome Back!"}),Object(O.jsx)(h.a,{variant:"h4",children:"We're so excited to see you again!"})]})}),Object(O.jsx)(f.a,{item:!0,sm:6,children:Object(O.jsx)(m.a,{uiConfig:g,firebaseAuth:b.a.auth()})})]})})},y=n(208),k=n(203),w=n(204),C=n(206),S=n(207),T=n(205),E=n(231),R=n(227),F=n(76),L=b.a.auth(),A="https://91d5d13c06d0.ngrok.io",I=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,r,c,s,i,l,j,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Fetching!!!"),r=t.route,c=t.payload,s=t.method,s=null!==(n=s)&&void 0!==n?n:"GET",L.currentUser){e.next=5;break}throw new Error("Not signed in!");case 5:return e.next=7,L.currentUser.getIdToken(!0);case 7:return i=e.sent,l={method:null!==(a=s)&&void 0!==a?a:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",authorization:i},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(null!==c&&void 0!==c?c:{})},"GET"===s&&delete l.body,e.next=12,fetch(A+r,l);case 12:return j=e.sent,e.next=15,j.json();case 15:if(!(u=e.sent).error){e.next=18;break}throw new Error(u.error);case 18:return e.abrupt("return",u);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=Object(k.a)((function(e){return{root:{width:"auto"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:F.a[500]}}}));function P(e){var t=e.class,n=t.classid,a=t.classname,r=t.description,c=Object(u.e)(),s=N();return Object(O.jsx)(R.a,{width:"100%",children:Object(O.jsx)(w.a,{children:Object(O.jsxs)(T.a,{onClick:function(){return c.push("/c/".concat(n))},children:[Object(O.jsx)(C.a,{avatar:Object(O.jsx)(E.a,{"aria-label":"recipe",className:s.avatar,style:{backgroundColor:"#"+W(D(a))},children:a.match(/\b(\w)/g).slice(0,2).join("")}),title:a}),r&&Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(S.a,{children:Object(O.jsx)(h.a,{variant:"body2",color:"textSecondary",component:"p",children:r})})})]})})})}function D(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return t}function W(e){var t=(16777215&e).toString(16).toUpperCase();return"00000".substring(0,6-t.length)+t}var G=function(e){var t=Object(a.useState)(void 0),n=Object(j.a)(t,2),r=n[0],c=n[1];return e.user,Object(a.useEffect)((function(){I({route:"/classes",method:"GET"}).then((function(e){return c(e)}))}),[]),Object(O.jsx)(f.a,{container:!0,spacing:4,children:r?0===r.length?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("img",{style:{height:"200px",width:"200px",borderRadius:"100%",marginLeft:"40%",marginRight:"40%"},alt:"nothing here",src:"https://i.imgur.com/joO4I3D.png"}),Object(O.jsxs)("div",{style:{textAlign:"center",marginLeft:"38%",marginRight:"auto",marginTop:"25px"},children:[Object(O.jsx)(h.a,{variant:"h6",children:"No classes joined"}),Object(O.jsx)("p",{children:Object(O.jsx)(h.a,{variant:"subtitle1",children:"Join a class and it will show up here."})})]})]}):r.map((function(e,t){return Object(O.jsx)(f.a,{item:!0,sm:4,children:Object(O.jsx)(P,{class:e},t)})})):Object(O.jsx)(y.a,{style:{marginLeft:"50%",marginTop:"50px"}})})},B=n(68),M=n(211),U=n(75),z=n.n(U),J=n(109),q=n.n(J),H=n(230),_=n(215),V=n(213),X=n(212),Y=n(216),K=n(232),Z=n(110),Q=n.n(Z),$=n(214),ee=n(174),te=n(209),ne=n(210),ae=n(67),re=n.n(ae),ce=Object(k.a)((function(e){return{root:{width:"auto"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:"grey"}}}));function se(e){var t=e.name,n=e.id,a=e.created_at,r=e.classid,c=Object(u.e)(),s=ce();return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(w.a,{children:Object(O.jsxs)(T.a,{onClick:function(){return c.push("/c/".concat(r,"/a/").concat(n))},children:[Object(O.jsx)(C.a,{avatar:Object(O.jsx)(E.a,{className:s.avatar,children:Object(O.jsx)(q.a,{})}),title:"You".concat(e.isTeacher?"":"r teacher"," posted a new assignment: ")+t}),Object(O.jsx)(S.a,{children:Object(O.jsx)(h.a,{variant:"body2",color:"textSecondary",component:"p",children:re()(a).calendar()})})]})})})}function ie(e){var t=e.studentList,n=(Object(u.f)().cid,Object(a.useState)(!1)),r=Object(j.a)(n,2),c=r[0],s=r[1],i=function(){s(!1)};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(M.a,{onClick:function(){s(!0)},style:{float:"right"},children:Object(O.jsx)(Q.a,{})}),Object(O.jsxs)(H.a,{open:c,onClose:i,children:[Object(O.jsx)(X.a,{children:"Joined Students"}),Object(O.jsxs)(V.a,{children:[!t&&Object(O.jsx)(y.a,{style:{marginLeft:"50%",marginTop:"50px"}}),t&&Object(O.jsx)($.a,{children:t.map((function(e,t){return Object(O.jsxs)(ee.a,{children:[Object(O.jsx)(te.a,{children:Object(O.jsx)(E.a,{src:e.photoURL})}),e.userid===e.teacherid?Object(O.jsx)(ne.a,{primary:"".concat(e.name," (Teacher)")}):Object(O.jsx)(ne.a,{primary:e.name})]})}))})]}),Object(O.jsx)(_.a,{children:Object(O.jsx)(Y.a,{onClick:i,color:"primary",children:"Close"})})]})]})}var oe=function(e){var t=e.user,n=Object(u.f)().cid,r=Object(a.useState)("idle"),c=Object(j.a)(r,2),s=c[0],i=c[1],d=Object(a.useState)(void 0),b=Object(j.a)(d,2),x=b[0],p=b[1],m=Object(a.useState)(void 0),g=Object(j.a)(m,2),v=g[0],k=g[1],w=Object(a.useState)(void 0),C=Object(j.a)(w,2),S=C[0],T=C[1],E=Object(a.useState)(void 0),R=Object(j.a)(E,2),F=R[0],L=R[1],A=Object(a.useState)(!1),N=Object(j.a)(A,2),P=N[0],D=N[1],W=Object(a.useState)(!1),G=Object(j.a)(W,2),U=G[0],J=G[1],q=Object(a.useRef)(""),Z=Object(a.useRef)("");Object(a.useEffect)((function(){Q(),Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({route:"/classes/".concat(n,"/students"),method:"GET"});case 2:t=e.sent,L(t.students);case 4:case"end":return e.stop()}}),e)})))()}),[]);var Q=function(){var e=Object(l.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I({route:"/classes/".concat(n),method:"GET"});case 3:a=e.sent,i(a.status),p(a.class),k(a.assignments),T(a.class.teacherid===t.uid),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),i("failed");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=q.current.value,a=Z.current.value,J(!0),e.prev=3,t&&a){e.next=7;break}return J(!1),e.abrupt("return",alert("The form isn't complete!"));case 7:return e.next=9,I({route:"/classes/".concat(n,"/assignments"),payload:{name:t,description:a},method:"POST"});case 9:Q(),D(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),alert(e.t0);case 16:J(!1);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){return D(!1)};return"idle"===s?Object(O.jsx)(y.a,{style:{marginLeft:"50%",marginTop:"50px"}}):"failed"===s?Object(O.jsx)(h.a,{children:"Something went wrong. Try logging out and back in."}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h.a,{variant:"h5",children:null===x||void 0===x?void 0:x.classname}),Object(O.jsxs)(h.a,{variant:"subtitle2",children:["Join Code: ",null===x||void 0===x?void 0:x.joincode]}),x&&x.teacherid===t.uid&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(M.a,{style:{float:"right"},onClick:function(){return D(!0)},children:Object(O.jsx)(z.a,{})}),Object(O.jsx)(ie,{studentList:F}),Object(O.jsxs)(H.a,{open:P,onClose:ee,"aria-labelledby":"form-dialog-title",children:[Object(O.jsx)(X.a,{id:"form-dialog-title",children:"Create an assignment"}),Object(O.jsxs)(V.a,{children:[Object(O.jsx)(K.a,{autoFocus:!0,margin:"dense",id:"name",label:"Assignment Name",type:"text",fullWidth:!0,inputRef:q,disabled:U,required:!0}),Object(O.jsx)(K.a,{multiline:!0,margin:"dense",id:"name",label:"Description",type:"text",fullWidth:!0,inputRef:Z,disabled:U,rows:8,required:!0})]}),Object(O.jsxs)(_.a,{children:[Object(O.jsx)(Y.a,{disabled:U,onClick:ee,color:"primary",children:"Cancel"}),Object(O.jsx)(Y.a,{disabled:U,onClick:function(){$()},color:"primary",children:"Create"})]})]})]}),Object(O.jsx)(f.a,{container:!0,spacing:4,children:v&&0!==v.length?v.map((function(e,t){return Object(O.jsx)(f.a,{item:!0,xs:12,children:Object(O.jsx)(se,Object(B.a)(Object(B.a)({},e),{},{isTeacher:S}))},t)})):Object(O.jsx)(h.a,{children:"Looks like there's nothing here.\ud83c\udf89"})})]})},le=n(224),je=n(119),ue=n.n(je),de=n(118),be=n.n(de),he=n(117),Oe=n.n(he),xe=n(221),pe=n(222),me=n(233),fe=n(219),ge=n(229),ve=n(116),ye=n.n(ve),ke=n(220),we=n(223),Ce=n(114),Se=n.n(Ce),Te=n(115),Ee=n.n(Te),Re=n(225),Fe=n(87),Le=n(111),Ae=n.n(Le),Ie=n(112),Ne=n.n(Ie),Pe=n(113),De=n.n(Pe);Object(Fe.registerPlugin)(Ae.a,Ne.a,De.a);var We=Object(a.forwardRef)((function(e,t){return Object(O.jsx)(ke.a,Object(B.a)({ref:t},e))})),Ge=Object(k.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},formControl:{minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function Be(e){var t=e.submitted,n=Object(a.useState)([]),r=Object(j.a)(n,2),c=r[0],s=r[1],i=Object(u.f)(),d=i.cid,h=i.aid,x=Object(a.useState)(""),p=Object(j.a)(x,2),m=p[0],f=p[1],g=Object(a.useState)(!1),v=Object(j.a)(g,2),k=v[0],w=v[1],C=Object(a.useRef)("");Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=b.a.auth().currentUser)||void 0===t?void 0:t.getIdToken(!0);case 2:n=e.sent,f(n);case 4:case"end":return e.stop()}}),e)})))()}),[]);var S=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w(!0),n=(n=C.current.value).replace(/\s/g,""),t.prev=3,n&&(n.endsWith(".py")||n.endsWith(".java"))&&(e.submissions.some((function(e){return e.filename===n}))||c.some((function(e){return e.filename===n})))){t.next=9;break}return w(!1),t.abrupt("return",alert("Looks like your entrypoint is incorrectly formatted. It should end with .py or .java and should be one of your uploaded files."));case 9:if(0!==e.submissions.length||0!==c.length){t.next=14;break}if(window.confirm("Submit with no files and mark as complete?")){t.next=12;break}return t.abrupt("return",w(!1));case 12:t.next=16;break;case 14:if(window.confirm("Are you sure you want to submit? This can't be undone.")){t.next=16;break}return t.abrupt("return",w(!1));case 16:return t.next=18,I({route:"/classes/".concat(d,"/assignment/").concat(h),method:"POST",payload:{entrypoint:n}});case 18:t.sent.status&&(alert("Successfully submitted!"),window.location.reload()),t.next=26;break;case 22:t.prev=22,t.t0=t.catch(3),console.log(t.t0),alert(t.t0.message);case 26:w(!1);case 27:case"end":return t.stop()}}),t,null,[[3,22]])})));return function(){return t.apply(this,arguments)}}();return m?Object(O.jsxs)("div",{style:{marginTop:"20px"},children:[!t&&Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(Fe.FilePond,{files:c,onupdatefiles:s,allowMultiple:!0,maxFiles:12,allowRevert:!1,name:"files",labelIdle:'Drag and Drop your files or <span class="filepond--label-action">Browse</span>.',maxFileSize:"5MB",labelMaxFileSizeExceeded:"File is too large! Max filesize is 5MB.",server:{process:{url:"".concat(A,"/classes/").concat(d,"/assignment/").concat(h,"/submissions"),headers:{authorization:m}}}}),Object(O.jsx)(K.a,{margin:"dense",id:"name",label:"Entry Point (Case-Sensitive)",type:"text",fullWidth:!0,inputRef:C,disabled:k,required:!0})]}),Object(O.jsx)(Y.a,{onClick:S,disabled:t,variant:"contained",color:"primary",children:t?"Submitted":"Submit Assignment"})]}):Object(O.jsx)(y.a,{variant:"indeterminate",style:{marginLeft:"50%",marginTop:"50px"}})}function Me(){var e=Object(u.f)(),t=e.cid,n=e.aid,r=Ge(),c=Object(a.useState)(!1),s=Object(j.a)(c,2),i=s[0],d=s[1],b=Object(a.useState)(!1),x=Object(j.a)(b,2),p=x[0],m=x[1],g=Object(a.useState)(""),v=Object(j.a)(g,2),y=v[0],k=v[1],T=Object(a.useState)(void 0),R=Object(j.a)(T,2),F=R[0],L=R[1],A=Object(a.useState)(void 0),N=Object(j.a)(A,2),P=N[0],D=N[1],W=Object(a.useRef)(""),G=Object(a.useRef)(""),B=function(){d(!1)},U=function(){var e=Object(l.a)(o.a.mark((function e(){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=G.current.value,m(!0),e.prev=2,e.next=5,I({route:"/classes/".concat(t,"/assignment/").concat(n,"/grade"),method:"POST",payload:{inputString:a}});case 5:r=e.sent,console.log(r),D(r.submissions),L(r.responses),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0);case 14:m(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{children:[Object(O.jsx)(Y.a,{disabled:P&&0===P.length,variant:"contained",color:"primary",onClick:function(){d(!0)},children:"Prepare for grading"}),Object(O.jsxs)(H.a,{fullScreen:!0,open:i,onClose:B,TransitionComponent:We,children:[Object(O.jsx)(xe.a,{className:r.appBar,children:Object(O.jsxs)(pe.a,{children:[Object(O.jsx)(M.a,{edge:"start",color:"inherit",onClick:B,"aria-label":"close",children:Object(O.jsx)(ye.a,{})}),Object(O.jsx)(h.a,{variant:"h6",className:r.title,children:"Grade Submissions"})]})}),Object(O.jsxs)(we.a,{style:{marginTop:"20px"},children:[Object(O.jsx)(h.a,{variant:"h6",children:"Set your test case"}),Object(O.jsxs)(h.a,{variant:"subtitle1",children:["Tip: if you would enter name first and then email when running the program regularly, you would enter with the line breaks",Object(O.jsxs)("code",{children:[Object(O.jsx)("p",{children:"Tony Stark"}),Object(O.jsx)("p",{children:"tony@starkindustries.com"})]})]}),Object(O.jsxs)(fe.a,{className:r.formControl,children:[Object(O.jsx)(me.a,{children:"Method"}),Object(O.jsxs)(ge.a,{id:"demo-simple-select",value:y,onChange:function(e){k(e.target.value)},required:!0,disabled:p,children:[Object(O.jsx)(le.a,{value:"INCLUDES",children:"Output Includes (recommended)"}),Object(O.jsx)(le.a,{value:"EXACTMATCH",children:"Exact Match"}),Object(O.jsx)(le.a,{value:"NEUTRAL",children:"No Auto-Grading"})]})]}),Object(O.jsx)(K.a,{multiline:!0,margin:"dense",id:"name",label:"Program Input",type:"text",fullWidth:!0,inputRef:G,disabled:p,rows:3}),Object(O.jsx)(K.a,{multiline:!0,margin:"dense",id:"name",label:"Expected Output",type:"text",fullWidth:!0,inputRef:W,disabled:p,rows:3}),Object(O.jsx)(Y.a,{variant:"outlined",color:"primary",onClick:U,disabled:p,children:"Submit to server for grading!"}),p&&Object(O.jsxs)("div",{style:{margin:"50px"},children:[Object(O.jsx)(Re.a,{}),Object(O.jsx)(h.a,{style:{textAlign:"center"},variant:"h6",children:"Sit tight! We're running the code on our servers for you."}),Object(O.jsx)("img",{style:{marginLeft:"20%",marginRight:"auto",borderRadius:"30px"},src:"https://thumbs.gfycat.com/MellowFriendlyDeermouse-size_restricted.gif",alt:"loading"})]}),F&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h.a,{variant:"h6",children:"Results"}),Object(O.jsx)(f.a,{container:!0,spacing:4,style:{marginTop:"25px"},children:F.map((function(e,t){var n,a=P[t],r="fulfilled"===e.status,c=r&&function(e){var t=W.current.value;switch(y){case"INCLUDES":if(e.includes(t))return!0;break;case"EXACTMATCH":if(e===t||e.trimEnd()===t)return!0;break;case"NEUTRAL":return!1;default:return}}(e.value.stdout);return n=c?"#009F6B":r&&!c?"#FFD300":"#C40233",Object(O.jsx)(f.a,{item:!0,sm:12,children:Object(O.jsxs)(w.a,{children:[Object(O.jsx)(C.a,{avatar:Object(O.jsx)(E.a,{style:{backgroundColor:n},children:r?Object(O.jsx)(Se.a,{}):Object(O.jsx)(Ee.a,{})}),title:a.studentname}),Object(O.jsxs)(S.a,{children:[Object(O.jsxs)(h.a,{variant:"subtitle2",children:["Entry Point: ",a.entrypoint]}),Object(O.jsx)("p",{}),r?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h.a,{variant:"h6",children:"Program output"}),Object(O.jsx)(h.a,{variant:"body1",children:e.value.stdout})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h.a,{variant:"h6",children:"Program output"}),Object(O.jsx)(h.a,{variant:"body1",children:e.reason.stdout}),Object(O.jsx)(h.a,{variant:"h6",children:"Program Error"}),Object(O.jsx)(h.a,{variant:"body1",children:e.reason.stderr})]})]})]})})}))})]})]})]})]})}function Ue(e){var t=Object(u.f)(),n=t.cid,r=t.aid,c=Object(a.useState)(void 0),s=Object(j.a)(c,2),i=s[0],d=s[1];Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I({route:"/classes/".concat(n,"/assignment/").concat(r,"/submissions"),method:"GET"});case 3:t=e.sent,a=t.submissions,d(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[]);return i?Object(O.jsxs)("div",{style:{marginTop:"20px"},children:[Object(O.jsx)(h.a,{variant:"h6",children:"Student Submissions"}),Object(O.jsx)(Me,{}),Object(O.jsx)(f.a,{container:!0,spacing:4,style:{height:"600px",overflowY:"auto",marginTop:"10px"},children:0===i.length?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("img",{style:{width:"200px",height:"200px",borderRadius:"100%",marginLeft:"20%",marginTop:"100px"},src:"https://i.imgur.com/Ht5ZipG.png",alt:"none"}),Object(O.jsxs)("div",{style:{textAlign:"center",marginTop:"-100px"},children:[Object(O.jsx)(h.a,{variant:"h6",children:"Looks like there aren't any submissions yet."}),Object(O.jsx)(h.a,{variant:"subtitle1",children:"When one of your students submits an assignment, it will show up here."})]})]}):null===i||void 0===i?void 0:i.map((function(e,t){return Object(O.jsx)(f.a,{item:!0,children:Object(O.jsxs)(w.a,{children:[Object(O.jsx)(C.a,{avatar:Object(O.jsx)(E.a,{src:e.photoURL}),title:e.studentname}),Object(O.jsxs)(S.a,{children:[Object(O.jsx)(h.a,{variant:"body1",children:"Files submitted"}),Object(O.jsx)(h.a,{variant:"subtitle2",children:re()(e.timestamp).calendar()}),Object(O.jsx)($.a,{dense:!0,children:e.files.map((function(t,n){return Object(O.jsxs)(ee.a,{children:[Object(O.jsx)(te.a,{children:t.filename===e.entrypoint?Object(O.jsx)(Oe.a,{}):Object(O.jsx)(be.a,{})}),Object(O.jsx)(ne.a,{primary:t.filename})]})}))})]})]})},t)}))})]}):Object(O.jsx)(y.a,{style:{marginLeft:"50%",marginTop:"50px"}})}var ze=function(e){var t=Object(u.f)(),n=t.cid,r=t.aid,c=Object(a.useState)(void 0),s=Object(j.a)(c,2),i=s[0],d=s[1],b=null!==i&&void 0!==i?i:{},x=b.name,p=b.description,m=(b.id,b.created_at),g=(b.classid,Object(a.useState)(void 0)),v=Object(j.a)(g,2),k=v[0],S=v[1],T=Object(a.useState)(void 0),R=Object(j.a)(T,2),F=R[0],L=R[1],A=Object(a.useState)(void 0),N=Object(j.a)(A,2),P=N[0],D=N[1];return Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I({route:"/classes/".concat(n,"/assignment/").concat(r),method:"GET"});case 3:t=e.sent,d(t.assignment),S(t.isSubmitted),L(t.submissions),D(t.isTeacher),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[]),i?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(f.a,{container:!0,spacing:6,children:[Object(O.jsxs)(f.a,{item:!0,sm:6,children:[Object(O.jsx)(h.a,{variant:"h4",children:x}),Object(O.jsx)(h.a,{variant:"subtitle1",children:re()(m).calendar()}),Object(O.jsx)("hr",{}),Object(O.jsx)(h.a,{variant:"body1",children:p})]}),Object(O.jsx)(f.a,{item:!0,sm:6,children:Object(O.jsxs)("div",{children:[!P&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h.a,{variant:"h6",children:"Your work"}),Object(O.jsx)(f.a,{container:!0,spacing:4,style:{marginTop:"10px"},children:function(){if(F)return F.map((function(e,t){return Object(O.jsx)(f.a,{item:!0,children:Object(O.jsx)(w.a,{children:Object(O.jsx)(C.a,{avatar:Object(O.jsx)(E.a,{children:Object(O.jsx)(ue.a,{})}),title:e.filename})})})}))}()}),Object(O.jsx)(Be,{submitted:k,submissions:F})]}),P&&Object(O.jsx)(Ue,{})]})})]})}):Object(O.jsx)(y.a,{style:{marginLeft:"50%",marginTop:"50px"}})},Je=n(120),qe=n(226),He=Object(k.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,fontFamily:"monospace"}}}));function _e(e){var t=Object(a.useState)(null),n=Object(j.a)(t,2),r=n[0],c=n[1],s=function(){c(null)};return Object(O.jsxs)("div",{children:[Object(O.jsx)(M.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},children:Object(O.jsx)(E.a,{alt:e.user.displayName,src:e.user.photoURL})}),Object(O.jsxs)(Je.a,{id:"simple-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:s,children:[Object(O.jsx)(le.a,{onClick:function(){s()},children:e.user.displayName}),Object(O.jsx)(le.a,{onClick:function(){s()},children:"Settings"}),Object(O.jsx)(le.a,{onClick:function(){s(),b.a.auth().signOut()},children:"Logout"})]})]})}function Ve(e){var t=He(),n=Object(u.e)(),c=Object(a.useState)(null),s=Object(j.a)(c,2),i=s[0],d=s[1],b=r.a.useState(!1),x=Object(j.a)(b,2),p=x[0],m=x[1],f=r.a.useState(!1),g=Object(j.a)(f,2),v=g[0],y=g[1],k=r.a.useState(!1),w=Object(j.a)(k,2),C=w[0],S=w[1],T=Object(a.useRef)(""),E=Object(a.useRef)(""),R=Object(a.useRef)(""),F=function(){d(null)},L=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=T.current.value.replace(/ /g,"")).length>6)){e.next=3;break}return e.abrupt("return",alert("Invalid Class Code!"));case 3:return S(!0),e.prev=4,e.next=7,I({route:"/joinclass",payload:{joinCode:t},method:"POST"});case 7:e.sent,window.location.reload(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),alert(e.t0);case 14:S(!1);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=E.current.value,n=R.current.value,t&&n){e.next=4;break}return e.abrupt("return",alert("Please complete the form!"));case 4:return e.prev=4,e.next=7,I({route:"/classes",payload:{name:t,description:n},method:"POST"});case 7:a=e.sent,alert("Class created with join code ".concat(a.joinCode)),window.location.reload(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),alert(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:t.root,children:Object(O.jsx)(xe.a,{color:"inherit",position:"fixed",children:Object(O.jsxs)(pe.a,{children:[Object(O.jsx)(h.a,{onClick:function(){return n.push("/h")},className:t.title,variant:"h5",noWrap:!0,style:{cursor:"pointer"},children:"codingScale"}),Object(O.jsxs)(u.a,{path:"/h",children:[Object(O.jsx)(M.a,{onClick:function(e){d(e.currentTarget)},children:Object(O.jsx)(z.a,{})}),Object(O.jsxs)(Je.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:F,children:[Object(O.jsx)(le.a,{onClick:function(){m(!0),F()},children:"Join Class"}),Object(O.jsxs)(H.a,{open:p,onClose:function(){return m(!1)},"aria-labelledby":"form-dialog-title",children:[Object(O.jsx)(X.a,{id:"form-dialog-title",children:"Join class"}),Object(O.jsxs)(V.a,{children:[Object(O.jsx)(qe.a,{children:"Ask your teacher for the class code, then enter it here."}),Object(O.jsx)(K.a,{autoFocus:!0,margin:"dense",id:"name",label:"6-Digit Class Code",type:"text",fullWidth:!0,inputRef:T,disabled:C,required:!0})]}),Object(O.jsxs)(_.a,{children:[Object(O.jsx)(Y.a,{disabled:C,onClick:function(){return m(!1)},color:"primary",children:"Cancel"}),Object(O.jsx)(Y.a,{disabled:C,onClick:function(){L()},color:"primary",children:"Join"})]})]}),Object(O.jsx)(le.a,{onClick:function(){y(!0),F()},children:"Create Class"}),Object(O.jsxs)(H.a,{open:v,onClose:function(){return y(!1)},"aria-labelledby":"form-dialog-title",children:[Object(O.jsx)(X.a,{id:"form-dialog-title",children:"Create a new class"}),Object(O.jsxs)(V.a,{children:[Object(O.jsx)(K.a,{autoFocus:!0,margin:"dense",id:"name",label:"Class Name",type:"text",fullWidth:!0,inputRef:E,disabled:C,required:!0}),Object(O.jsx)(K.a,{margin:"dense",id:"name",label:"Description",type:"text",fullWidth:!0,inputRef:R,disabled:C,required:!0})]}),Object(O.jsxs)(_.a,{children:[Object(O.jsx)(Y.a,{disabled:C,onClick:function(){return y(!1)},color:"primary",children:"Cancel"}),Object(O.jsx)(Y.a,{disabled:C,onClick:function(){A()},color:"primary",children:"Create"})]})]})]})]}),null!==e.user&&Object(O.jsx)(O.Fragment,{children:e.user?Object(O.jsx)(_e,{user:e.user}):Object(O.jsx)(Y.a,{onClick:function(){return n.push("/login")},children:"Sign in"})})]})})})}function Xe(){var e=Object(a.useState)(null),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(u.e)();return Object(a.useEffect)((function(){b.a.auth().onAuthStateChanged((function(e){e?(r(e),e.getIdToken().then(console.log)):(c.push("/login"),r(void 0))}))})),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Ve,{user:n}),Object(O.jsxs)(we.a,{style:{marginTop:"128px"},children:[null!==n&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.a,{exact:!0,path:"/",children:Object(O.jsx)(x,{})}),Object(O.jsx)(u.a,{exact:!0,path:"/h",children:Object(O.jsx)(G,{user:n})}),Object(O.jsx)(u.a,{exact:!0,path:"/c/:cid",children:Object(O.jsx)(oe,{user:n})}),Object(O.jsx)(u.a,{exact:!0,path:"/c/:cid/a/:aid",children:Object(O.jsx)(ze,{})})]}),Object(O.jsx)(u.a,{exact:!0,path:"/login",children:Object(O.jsx)(v,{user:n})})]})]})}var Ye=function(){return Object(O.jsx)(d.a,{children:Object(O.jsx)(Xe,{})})};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(Ye,{})}),document.getElementById("root"))}},[[171,1,2]]]);
//# sourceMappingURL=main.1cc40b2e.chunk.js.map